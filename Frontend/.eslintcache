[{"D:\\College\\2020\\Winter\\CSC307\\todo_app\\ToDoApp\\Frontend\\src\\index.js":"1","D:\\College\\2020\\Winter\\CSC307\\todo_app\\ToDoApp\\Frontend\\src\\App.js":"2","D:\\College\\2020\\Winter\\CSC307\\todo_app\\ToDoApp\\Frontend\\src\\Table.js":"3","D:\\College\\2020\\Winter\\CSC307\\todo_app\\ToDoApp\\Frontend\\src\\Form.js":"4","D:\\College\\2020\\Winter\\CSC307\\todo_app\\ToDoApp\\Frontend\\src\\Modal.js":"5"},{"size":169,"mtime":1613002112074,"results":"6","hashOfConfig":"7"},{"size":6118,"mtime":1614811090014,"results":"8","hashOfConfig":"7"},{"size":4430,"mtime":1614733505205,"results":"9","hashOfConfig":"7"},{"size":2828,"mtime":1614811454925,"results":"10","hashOfConfig":"7"},{"size":4706,"mtime":1614811373648,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"d01q7l",{"filePath":"15","messages":"16","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17","usedDeprecatedRules":"14"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20","usedDeprecatedRules":"14"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},"D:\\College\\2020\\Winter\\CSC307\\todo_app\\ToDoApp\\Frontend\\src\\index.js",[],["26","27"],"D:\\College\\2020\\Winter\\CSC307\\todo_app\\ToDoApp\\Frontend\\src\\App.js",["28"],"import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport Table from './Table'\r\nimport Form from './Form'\r\nimport MyModal from './Modal';\r\nimport logo from './logo.jpg';\r\nimport \"./styles.css\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nclass App extends Component {\r\n\t  state = {\r\n        characters: [],\r\n        completed:[],\r\n        showModal: false,\r\n        modalCharacter: null\r\n     }\r\n\r\n\r\n   componentDidMount() {\r\n      axios.get('http://localhost:5000/users')\r\n         .then(res => {\r\n            const characters = res.data.users_list;\r\n            this.setState({ characters });\r\n         })\r\n         .catch(function (error) {\r\n            //Not handling the error. Just logging into the console.\r\n            console.log(error);\r\n         });\r\n   }\r\n\r\n   removeCharacter = index => {\r\n      const { characters } = this.state\r\n      let character = characters[index];\r\n\r\n      if(this.makeDeleteCall(character)){\r\n          this.setState({\r\n              characters: characters.filter((character, i) => {\r\n                  return i !== index\r\n              }),\r\n          })\r\n      }\r\n   }\r\n\r\n   openModal = index => {\r\n      if (index > 0) {\r\n         const { characters } = this.state\r\n         this.setState({ modalCharacter: characters[index] });\r\n         this.setState({ showModal: true });\r\n      }\r\n   }\r\n\r\n   newCharacter = () => { // opens modal for a new character\r\n      this.setState({ modalCharacter: null });\r\n      this.setState({ showModal: true });\r\n   }\r\n\r\n   closeModal = () => {\r\n      this.setState({ modalCharacter: null });\r\n      this.setState({ showModal: false});\r\n   }\r\n\r\n   handleModalSubmit = character => {\r\n      // this.handleSubmit(character);\r\n      console.log(character)\r\n      if (this.state.modalCharacter) { // updating existing character\r\n         this.updateCharacter(character)\r\n      }\r\n      else { // creating a new character\r\n         this.makePostCall(character).then( callResult => {\r\n            if (callResult.status === 201) {\r\n               character = callResult.data;\r\n               console.log(character);\r\n               this.setState({ characters: [...this.state.characters, character] });\r\n            }\r\n         });\r\n      }\r\n      this.closeModal()\r\n   }\r\n\r\n   updateCharacter = character => {\r\n      const { characters } = this.state\r\n\r\n      if(this.makePutCall(character)){\r\n         var updatedCharacters = []\r\n         for (let i=0; i<characters.length; i++) { // get an updated character list\r\n            if (character._id === characters[i]._id) {\r\n               updatedCharacters.push(character)\r\n            }\r\n            else {\r\n               updatedCharacters.push(characters[i])\r\n            }\r\n         }\r\n         console.log(characters)\r\n         console.log(updatedCharacters)\r\n         this.setState({\r\n            characters: updatedCharacters\r\n         })\r\n      }\r\n   }\r\n\r\n   makePutCall(character){\r\n      return axios.put('http://localhost:5000/users', character)\r\n         .then(function (response) {\r\n            console.log(response);\r\n            return response;\r\n         })\r\n         .catch(function (error) {\r\n            console.log(error);\r\n            return null;\r\n         });\r\n   }\r\n\r\n   makeDeleteCall(character){\r\n      console.log(character);\r\n      console.log({ data: { _id: character._id } });\r\n      return axios.delete('http://localhost:5000/users', { data: { _id: character._id } })\r\n         .then(function (response) {\r\n            console.log(response);\r\n            return response === 200;\r\n         })\r\n         .catch(function (error) {\r\n            console.log(error);\r\n            return false;\r\n         });\r\n   }\r\n\r\n   handleSubmit = character => {\r\n      console.log(character)\r\n      this.makePostCall(character).then( callResult => {\r\n         if (callResult.status === 201) {\r\n            character = callResult.data;\r\n            console.log(character);\r\n            this.setState({ characters: [...this.state.characters, character] });\r\n         }\r\n      });\r\n   }\r\n\r\n   editChecked = index => {\r\n      const { characters } = this.state\r\n      let character = characters[index]; \r\n      character.checked = !character.checked\r\n\r\n      console.log(character)\r\n      \r\n      if(this.makePostCall(character)){\r\n         characters[index] = character\r\n         this.setState({\r\n            characters \r\n         })\r\n      }\r\n   }\r\n\r\n   handlePatch = character => {\r\n      this.makePatchCall(character).then( callResult => {\r\n         if (callResult.status === 201) {\r\n            character = callResult.data;\r\n            console.log(character);\r\n            this.setState({ characters: [...this.state.characters, character] });\r\n         }\r\n      });\r\n   }\r\n\r\n   handleCompletedSubmit = complete => {\r\n      this.setState({ completed: [...this.state.completed, complete]});\r\n   }\r\n\r\n   makePostCall(character){\r\n      return axios.post('http://localhost:5000/users', character)\r\n         .then(function (response) {\r\n            console.log(response);\r\n            return response;\r\n         })\r\n         .catch(function (error) {\r\n            console.log(error);\r\n            return null;\r\n         });\r\n   }\r\n\r\n   render() {\r\n        const { characters, showModal, modalCharacter } = this.state\r\n\r\n        return (\r\n         <div className=\"all\">\r\n\r\n            <div className=\"header\">\r\n               <img className=\"photo\" src={logo} /> \r\n               <h1 className=\"text\"> TO-DO APP </h1>\r\n            </div>\r\n\r\n            <div className=\"container\">\r\n               <input type=\"button\" value=\"Add Character\" onClick={this.newCharacter} />\r\n               <Table characterData={characters} removeCharacter={this.removeCharacter} updateCharacter={this.updateCharacter}  openModal={this.openModal} editChecked={this.editChecked} />\r\n               <Form handleSubmit={this.handleSubmit} />\r\n               <MyModal show={showModal} handleModalSubmit={this.handleModalSubmit} closeModal={this.closeModal} \r\n               modalCharacter={modalCharacter}/>\r\n            </div>\r\n\r\n         </div>\r\n             )\r\n   }\r\n\r\n}\r\n\r\nexport default App","D:\\College\\2020\\Winter\\CSC307\\todo_app\\ToDoApp\\Frontend\\src\\Table.js",["29","30"],"import React from 'react'\r\nimport { Dropdown } from 'react-bootstrap'\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport ProgressBar from 'react-bootstrap/ProgressBar'\r\n\r\nconst Checkboxes = ({checked, cbOnChange})=> {\r\n  const handleChange = (event) => {\r\n      cbOnChange(event.target.checked);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Checkbox\r\n        onChange={handleChange}\r\n        checked={checked}\r\n        color=\"primary\"\r\n        inputProps={{ 'aria-label': 'primary checkbox' }}\r\n      />\r\n      </div>\r\n  );\r\n}\r\n\r\nconst TableHeader = () => {\r\n\t  return (\r\n\t\t      <thead>\r\n\t\t        <tr>\r\n              <th>Select</th>\r\n\t      <th>Tasks</th>\r\n              <th>Description</th>\r\n              <th>Type</th>\r\n              <th>Date</th>\r\n              <th style={{width: '10%'}}>Priority</th>\r\n\t\t        </tr>\r\n\t\t      </thead>\r\n\t\t    ) // style width ensures the priority bar displays correctly\r\n}\r\n\r\nconst days = [\r\n  'Sunday ',\r\n  'Monday ',\r\n  'Tuesday ',\r\n  'Wednesday ',\r\n  'Thursday ',\r\n  'Friday ',\r\n  'Saturday '\r\n]\r\n\r\nconst months = [\r\n  'January ',\r\n  'February ',\r\n  'March ',\r\n  'April ',\r\n  'May ',\r\n  'June ',\r\n  'July ',\r\n  'August ',\r\n  'September ',\r\n  'October ',\r\n  'November ',\r\n  'December '\r\n]\r\n\r\nconst TableBody = props => {\r\n\t  const rows = props.characterData.map((row, index) => {\r\n      var formattedDate = null\r\n      if (row.date.length && row.date.length > 0){\r\n        const date = new Date(row.date)\r\n        const dayName = days[date.getDay()]\r\n        const monthName = months[date.getMonth()]\r\n        var minutes = date.getMinutes()\r\n        var minuteString = minutes.toString()\r\n        if (minutes < 10){\r\n          const zero = '0'\r\n          minuteString = zero.concat(minuteString)\r\n        }\r\n        var hour = date.getHours()\r\n        var formattedHour = null\r\n        if (hour > 11){\r\n          hour = hour - 12\r\n          if (hour == 0){\r\n            hour = 12\r\n          }\r\n          formattedHour = hour.toString().concat(':',minuteString,' PM')\r\n        }\r\n        else{\r\n          if (hour == 0){\r\n            hour = 12\r\n          }\r\n          formattedHour = hour.toString().concat(':',minuteString,' AM')\r\n        }\r\n        formattedDate = dayName.concat(monthName,date.getDate(),', ',date.getFullYear(),' at ', formattedHour)//date.getHours(),\":\",date.getMinutes())\r\n      }\r\n      let textLine = (row.checked === true ? 'line-through' : 'none')\r\n      let priBar = parseInt(row.priority) * 10\r\n      let priVar = (priBar > 66 ? \"danger\" : (priBar > 33 ? \"warning\" : \"success\"))\r\n\t\t      return (\r\n               <tr key={index}>\r\n                 <td>\r\n                    <Checkboxes cbOnChange={(checked)=> props.editChecked(index)} />\r\n                 </td>\r\n                 \r\n                 <td>\r\n                  <div style={{textDecorationLine: textLine}}>\r\n                    {row.task}\r\n                  </div>\r\n                 </td>\r\n\r\n                 <td>\r\n                  <div style={{textDecorationLine: textLine}}>\r\n                    {row.desc}\r\n                  </div>\r\n                </td>\r\n\r\n                <td>\r\n                  <div style={{textDecorationLine: textLine}}>\r\n                    {row.type}\r\n                  </div>\r\n                </td>\r\n                <td>{formattedDate}</td>\r\n                 <td><ProgressBar striped variant={priVar} now={priBar} /></td>\r\n                 <td>\r\n                  <Dropdown>\r\n                      <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                          Edit\r\n                      </Dropdown.Toggle>\r\n\r\n                      <Dropdown.Menu>\r\n                        <Dropdown.Item onClick={() => props.removeCharacter(index)}>Delete</Dropdown.Item>\r\n                        <Dropdown.Item onClick={() => props.openModal(index)}>Edit Task</Dropdown.Item>\r\n                      </Dropdown.Menu>\r\n                    </Dropdown>\r\n                 </td>\r\n               </tr>\r\n\t\t\t          )\r\n\t\t    })\r\n\t  return <tbody>{rows}</tbody>\r\n}\r\n\r\nconst Table = props => {\r\n     const { characterData, removeCharacter, openModal, editChecked} = props\r\n\r\n     return (\r\n            <table style={{width: '100%'}}>\r\n              <TableHeader />\r\n              <TableBody characterData={characterData} removeCharacter={removeCharacter} openModal={openModal} editChecked={editChecked}/>\r\n            </table>\r\n          )\r\n}\r\n\r\nexport default Table\r\n","D:\\College\\2020\\Winter\\CSC307\\todo_app\\ToDoApp\\Frontend\\src\\Form.js",["31"],"D:\\College\\2020\\Winter\\CSC307\\todo_app\\ToDoApp\\Frontend\\src\\Modal.js",["32","33"],"import React, { Component } from 'react'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nclass MyModal extends Component {\r\n\r\n     initialState = {\r\n       task: '',\r\n       desc: '',\r\n       priority: '',\r\n       date: \"\", \r\n       checked: false,\r\n       type: '',\r\n     }\r\n     state = this.initialState\r\n\r\n\r\n   handleChange = event => {\r\n        const { name, value } = event.target\r\n\r\n        this.setState({\r\n               [name]: value,\r\n        })\r\n   }\r\n\r\n   // TODO: fix double click bug (if you edit the same task twice this breaks)\r\n   componentDidUpdate({_id}) { // if a new character is given, change the state\r\n    if (this.props.modalCharacter && (this.props.modalCharacter._id !== this.state._id)) {\r\n      this.setState({task: this.props.modalCharacter.task})\r\n      this.setState({desc: this.props.modalCharacter.desc})\r\n      this.setState({priority: this.props.modalCharacter.priority})\r\n      this.setState({type: this.props.modalCharacter.type})\r\n      this.setState({date: this.props.modalCharacter.date})\r\n      this.setState({_id: this.props.modalCharacter._id})\r\n    }\r\n    // if (this.props.modalCharacter === null) { // if a null character is given, reset to initial to create a new character\r\n    // }\r\n   }\r\n\r\n   submitForm = () => {\r\n     let nPriority = parseInt(this.state.priority)\r\n     if (nPriority !== NaN && nPriority > 0 && nPriority <= 10) { // Check that the priority is valid\r\n      if (this.props.modalCharacter) {\r\n        var modChar = this.props.modalCharacter\r\n      }\r\n      else{\r\n        var modChar = {}\r\n      }\r\n        modChar.task = this.state.task\r\n        modChar.desc = this.state.desc\r\n        modChar.priority = this.state.priority\r\n        modChar.type = this.state.type\r\n        modChar.date = this.state.date\r\n        this.props.handleModalSubmit(modChar)\r\n        this.setState(this.initialState)\r\n     }\r\n     else {\r\n      alert(\"Priority must be a number from 1 to 10.\")\r\n     }\r\n    }\r\n\r\n    render = () => {\r\n\r\n        let defaultType = <option selected disabled>Please choose...</option>  \r\n        if (this.state.type) { // if type is already selected\r\n          defaultType = <option selected name=\"type\" id=\"type\" value={this.state.type}>{this.state.type}</option>\r\n        } // Not ideal, the option will be repeated in the table twice, not sure how to fix\r\n        return (\r\n         <Modal show={this.props.show} onHide={this.props.closeModal}>\r\n         <Modal.Header>\r\n          <Modal.Title>Edit task</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n                 <label htmlFor=\"task\">Task</label>\r\n                 <input\r\n                   type=\"text\"\r\n                   name=\"task\"\r\n                   id=\"task\"\r\n                   value={this.state.task}\r\n                   onChange={this.handleChange} />\r\n\r\n                 <label htmlFor=\"desc\">Description</label>\r\n                 <input\r\n                   type=\"text\"\r\n                   name=\"desc\"\r\n                   id=\"desc\"\r\n                   value={this.state.desc}\r\n                   onChange={this.handleChange} />\r\n\r\n\t\t             <label htmlFor=\"date\">Due Date (optional)</label>\r\n                 <input\r\n                   type = \"datetime-local\"\r\n                   name = \"date\"\r\n                   id = \"date\"\r\n                   value={this.state.date}\r\n                   onChange={this.handleChange} />\r\n            \r\n                 <label htmlFor=\"type\">Type</label>\r\n                 <select name=\"type\" onChange={this.handleChange}>\r\n                   {defaultType}\r\n                   <option name=\"type\" id=\"type\" value=\"School\">School</option>\r\n                   <option name=\"type\" id=\"type\" value=\"Work\">Work</option>\r\n                   <option name=\"type\" id=\"type\" value=\"Errand\">Errand</option>\r\n                   <option name=\"type\" id=\"type\" value=\"House Work\">House Work</option>\r\n                   <option name=\"type\" id=\"type\" value=\"Other\">Other</option>\r\n                 </select> \r\n\r\n                 <label htmlFor=\"priority\">Priority (Number 1-10)</label>\r\n                 <input\r\n                   type=\"text\"\r\n                   name=\"priority\"\r\n                   id=\"priority\"\r\n                   value={this.state.priority}\r\n                   onChange={this.handleChange} />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.props.closeModal}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.submitForm}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n        </Modal>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default MyModal\r\n",{"ruleId":"34","replacedBy":"35"},{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","severity":1,"message":"39","line":186,"column":16,"nodeType":"40","endLine":186,"endColumn":52},{"ruleId":"41","severity":1,"message":"42","line":80,"column":20,"nodeType":"43","messageId":"44","endLine":80,"endColumn":22},{"ruleId":"41","severity":1,"message":"42","line":86,"column":20,"nodeType":"43","messageId":"44","endLine":86,"endColumn":22},{"ruleId":"45","severity":1,"message":"46","line":25,"column":11,"nodeType":"43","messageId":"47","endLine":25,"endColumn":28},{"ruleId":"45","severity":1,"message":"46","line":42,"column":10,"nodeType":"43","messageId":"47","endLine":42,"endColumn":27},{"ruleId":"48","severity":1,"message":"49","line":47,"column":13,"nodeType":"50","messageId":"51","endLine":47,"endColumn":20},"no-native-reassign",["52"],"no-negated-in-lhs",["53"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","use-isnan","Use the isNaN function to compare with NaN.","comparisonWithNaN","no-redeclare","'modChar' is already defined.","Identifier","redeclared","no-global-assign","no-unsafe-negation"]